<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment - Google Classroom</title>
    <link rel="icon" type="image/png" href="logo/chatlogo1.jpg">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="classwork.css">
</head>

<body>
    <!-- Header -->
    <header class="header shadow-sm">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-auto">
                    <div class="header-left">
                        <button class="close-btn btn btn-link p-2" onclick="goBack()">
                            <i class="bi bi-x-lg"></i>
                        </button>
                        <div class="assignment-icon">
                            <i class="bi bi-file-text"></i>
                        </div>
                        <h1 class="header-title mb-0">Assignment</h1>
                    </div>
                </div>
                <div class="col-auto ms-auto">
                    <div class="header-right">
                        <button class="btn btn-primary assign-btn" onclick="createAssignment()">
                            <i class="bi bi-check-lg me-1"></i>Assign
                        </button>
                        <div class="dropdown">
                            <button class="btn btn-link assign-dropdown" type="button" data-bs-toggle="dropdown">
                                <i class="bi bi-chevron-down"></i>
                            </button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">Save draft</a></li>
                                <li><a class="dropdown-item" href="#">Schedule</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container-fluid main-content">
        <div class="row">
            <!-- Left Panel -->
            <div class="col-lg-8 col-12">
                <div class="card left-panel shadow-sm border-0">
                    <div class="card-body">
                        <!-- Title Input -->
                        <div class="form-group mb-4">
                            <label for="assignmentTitle" class="form-label">
                                Title <span class="required">*</span>
                            </label>
                            <input type="text" class="form-control title-input" id="assignmentTitle"
                                placeholder="Title">
                            <div id="titleError" class="required-text d-none">
                                <i class="bi bi-exclamation-circle me-1"></i>This is a required question
                            </div>
                        </div>

                        <!-- Instructions -->
                        <div class="form-group mb-4">
                            <label class="form-label">Instructions (optional)</label>
                            <div class="card instructions-container border">
                                <div class="card-header formatting-toolbar bg-light py-2">
                                    <div class="btn-group" role="group">
                                        <button type="button" class="btn btn-sm btn-outline-secondary format-btn"
                                            onclick="formatText('bold')">
                                            <strong>B</strong>
                                        </button>
                                        <button type="button" class="btn btn-sm btn-outline-secondary format-btn"
                                            onclick="formatText('italic')">
                                            <em>I</em>
                                        </button>
                                        <button type="button" class="btn btn-sm btn-outline-secondary format-btn"
                                            onclick="formatText('underline')">
                                            <u>U</u>
                                        </button>
                                        <button type="button" class="btn btn-sm btn-outline-secondary format-btn"
                                            onclick="formatText('strikeThrough')">
                                            <s>S</s>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body p-0">
                                    <div class="instructions-editor p-3" id="instructionsEditor" contenteditable="true"
                                        data-placeholder="Provide instructions for your students (optional)"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Attachments -->
                        <div class="attach-section">
                            <label class="attach-label">Attach</label>
                            <div class="row attach-options g-3">
                                <div class="col-6 col-md-auto">
                                    <div class="attach-option text-center" onclick="openDriveAttach()">
                                        <div class="attach-icon drive-icon mb-2">
                                            <i class="bi bi-google"></i>
                                        </div>
                                        <small class="attach-text">Drive</small>
                                    </div>
                                </div>
                                <div class="col-6 col-md-auto">
                                    <div class="attach-option text-center" onclick="openYouTubeAttach()">
                                        <div class="attach-icon youtube-icon mb-2">
                                            <i class="bi bi-youtube"></i>
                                        </div>
                                        <small class="attach-text">YouTube</small>
                                    </div>
                                </div>
                                <div class="col-6 col-md-auto">
                                    <div class="attach-option text-center" onclick="openCreateNew()">
                                        <div class="attach-icon create-icon mb-2">
                                            <i class="bi bi-plus-circle"></i>
                                        </div>
                                        <small class="attach-text">Create</small>
                                    </div>
                                </div>
                                <div class="col-6 col-md-auto">
                                    <div class="attach-option text-center" onclick="openFileUpload()">
                                        <div class="attach-icon upload-icon mb-2">
                                            <i class="bi bi-upload"></i>
                                        </div>
                                        <small class="attach-text">Upload</small>
                                    </div>
                                </div>
                                <div class="col-6 col-md-auto">
                                    <div class="attach-option text-center" onclick="openLinkAttach()">
                                        <div class="attach-icon link-icon mb-2">
                                            <i class="bi bi-link-45deg"></i>
                                        </div>
                                        <small class="attach-text">Link</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel -->
            <div class="col-lg-4 col-12">
                <div class="right-panel">
                    <!-- Course Selection -->
                    <div class="card panel-card shadow-sm border-0 mb-3">
                        <div class="card-body">
                            <label class="panel-title">For</label>
                            <select class="form-select dropdown" id="courseSelect">
                                <option>CSE479 - Advanced Programming</option>
                                <option>CSE101 - Introduction to Programming</option>
                                <option>CSE201 - Data Structures</option>
                                <option>CSE301 - Database Systems</option>
                                <option>CSE401 - Software Engineering</option>
                            </select>
                        </div>
                    </div>

                    <!-- Assign To -->
                    <div class="card panel-card shadow-sm border-0 mb-3">
                        <div class="card-body">
                            <label class="panel-title">Assign to</label>
                            <div class="assign-to-section" onclick="openStudentSelection()">
                                <i class="bi bi-people students-icon"></i>
                                <span class="assign-to-text" id="assignToText">All students</span>
                                <i class="bi bi-chevron-right ms-auto"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Points -->
                    <div class="card panel-card shadow-sm border-0 mb-3">
                        <div class="card-body">
                            <label class="panel-title">Points</label>
                            <select class="form-select dropdown" id="pointsSelect">
                                <option value="100">100</option>
                                <option value="50">50</option>
                                <option value="20">20</option>
                                <option value="10">10</option>
                                <option value="ungraded">Ungraded</option>
                            </select>
                        </div>
                    </div>

                    <!-- Due Date -->
                    <div class="card panel-card shadow-sm border-0 mb-3">
                        <div class="card-body">
                            <label class="panel-title">Due</label>
                            <input type="date" class="form-control date-input" id="dueDate">
                        </div>
                    </div>

                    <!-- Topic -->
                    <div class="card panel-card shadow-sm border-0 mb-3">
                        <div class="card-body">
                            <label class="panel-title">Topic</label>
                            <select class="form-select dropdown" id="topicSelect">
                                <option>No topic</option>
                                <option>Assignments</option>
                                <option>Projects</option>
                                <option>Quizzes</option>
                                <option>Exams</option>
                                <option>Lab Work</option>
                                <option>Homework</option>
                            </select>
                        </div>
                    </div>

                    <!-- Rubric -->
                    <div class="card panel-card shadow-sm border-0">
                        <div class="card-body">
                            <label class="panel-title">Rubric</label>
                            <button class="btn btn-outline-primary rubric-btn w-100" onclick="createRubric()">
                                <i class="bi bi-plus plus-icon me-2"></i>
                                Rubric
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Help Icon -->
    <div class="help-icon" data-bs-toggle="tooltip" data-bs-placement="left" title="Get help">
        <i class="bi bi-question"></i>
    </div>

    <!-- File Input -->
    <input type="file" id="fileInput" class="file-input" multiple onchange="handleFileUpload(event)">

    <!-- Modals -->
    <!-- Link Modal -->
    <div class="modal fade" id="linkModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add Link</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">URL</label>
                        <input type="url" class="form-control" id="linkUrl" placeholder="Paste link here">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Title (optional)</label>
                        <input type="text" class="form-control" id="linkTitle" placeholder="Add title">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="addLink()">Add Link</button>
                </div>
            </div>
        </div>
    </div>

    <!-- YouTube Modal -->
    <div class="modal fade" id="youtubeModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add YouTube Video</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">YouTube URL</label>
                        <input type="url" class="form-control" id="youtubeUrl" placeholder="Paste YouTube link here">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="addYouTube()">Add Video</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Student Selection Modal -->
    <div class="modal fade" id="studentModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Assign to Students</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="assignType" id="allStudents" value="all"
                                checked onchange="updateAssignType()">
                            <label class="form-check-label" for="allStudents">
                                All students
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="assignType" id="specificStudents"
                                value="specific" onchange="updateAssignType()">
                            <label class="form-check-label" for="specificStudents">
                                Specific students
                            </label>
                        </div>
                    </div>
                    <div id="studentList" class="d-none">
                        <label class="form-label">Select students:</label>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="student1">
                            <label class="form-check-label" for="student1">John Doe</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="student2">
                            <label class="form-check-label" for="student2">Jane Smith</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="student3">
                            <label class="form-check-label" for="student3">Bob Johnson</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="student4">
                            <label class="form-check-label" for="student4">Alice Brown</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="student5">
                            <label class="form-check-label" for="student5">Charlie Davis</label>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="updateStudentAssignment()">Update</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="classwork.js"></script>
</body>

</html>